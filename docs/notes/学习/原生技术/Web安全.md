---
title: Web安全
createTime: 2025/01/19 17:00:48
permalink: /learn/front/FHkSPfT2yC4cA3tVuw/
author: JackSim
tags:
  - Web安全
  - 浏览器

description: description
---

## Web安全

Web 安全旨在保护 Web 应用程序及其用户免受恶意攻击、数据泄露和未经授权的访问。

## Web 安全常见问题

### SQL 注入 (SQL Injection)

- **`描述`**
攻击者通过在输入字段中插入恶意 SQL 语句，操控数据库执行未经授权的操作。

- **`解决方案`**
  1. 使用参数化查询或预处理语句（Prepared Statements）。
  2. 避免动态拼接 SQL 语句。
  3. 对用户输入进行严格的验证和转义。

### 跨站脚本攻击 (XSS)

- **`描述`**
攻击者向受害者的浏览器注入恶意脚本，从而窃取用户数据或劫持会话。

- **`解决方案`**
  1. 对用户输入进行 HTML 编码。（用户输入某特特殊字符<>&等，会被当成网页标记来处理，避免这种情况需要对其进行转码再使用）
  2. 使用 CSP（设置http响应头Content-Security-Policy，限制哪些资源允许加载，哪些不允许），
  3. 禁止用户上传或执行非可信的脚本。
   
### 跨站请求伪造 (CSRF)

- **`描述`**
攻击者利用受害者的身份，向网站发送未经授权的请求。

用户登录受信任网站后，攻击者通过电子邮件、社交媒体或其他手段，诱使用户访问一个恶意网站或点击一个恶意链接。当用户访问恶意网站时，该网站会通过 JavaScript 或其他手段向受信任的目标网站发送一个伪造的请求。由于该请求是由受害者的浏览器发起的，因此会带上用户的身份验证信息（如 Cookies）

- **`解决方案`**
  1. 在请求中添加 CSRF Token。原理是在用户请求操作时，生成一个唯一的令牌（Token）并将其附加到请求中。该令牌在服务器端进行验证，确保请求是由受信任的用户发起的，而非伪造的攻击请求
  2. 对敏感操作使用 POST 方法
  3. 验证请求的来源（如通过 Referer 或 Origin 头）

### Clickjacking(点击劫持)

- **`描述`**
是一种欺骗性的攻击技术，攻击者通过构建一个“隐藏”的恶意页面，诱使用户点击页面上的某些元素，而用户认为自己是在点击页面的其他内容。

- **`解决方案`**
  1. 使用 X-Frame-Options HTTP 响应头。 X-Frame-Options 是一种 HTTP 响应头，它可以控制页面是否允许通过 `<iframe>` 标签嵌套在其他页面中
  2. 使用 Content Security Policy (CSP) 的 frame-ancestors 指令。frame-ancestors 指令，可以控制哪些源可以嵌套当前页面
  ```http
  Content-Security-Policy: frame-ancestors 'self';
  ``` 
  3. 使用防点击劫持的 UI 设计
    - 对重要按钮进行遮罩：在重要的交互按钮（如“支付”按钮）上添加防护层，防止它被透明的恶意 iframe 覆盖。
    - 使用挑战/确认步骤：在用户执行敏感操作时，要求用户再次确认（例如通过弹窗、验证码等方式）来确保操作是由用户自愿进行的。



### 数据传输泄露

- **`描述`**
敏感信息（如密码、信用卡号）在存储或传输中未被妥善保护。

- **`解决方案`**
  1. 使用 HTTPS 加密通信
  2. 对敏感数据进行加密存储
  3. 实施强密码策略

### 文件上传漏洞

- **`描述`**
攻击者通过上传恶意文件执行代码或获取服务器敏感信息。例如
  1. 上传 Web Shell，上传后便可在服务器上执行文件，查看敏感信息
  2. 上传恶意脚本
  3. 上传包含恶意宏的文件
  4. 上传大文件引起服务器崩溃
   
- **`解决方案`**
  1. 验证文件扩展名和 MIME 类型
  2. 限制上传目录的执行权限
  3. 检查文件内容并重命名文件

### 分布式拒绝服务攻击 (DDoS)

- **`描述`**
攻击者通过大量请求使服务器资源耗尽，从而导致服务不可用

- **`解决方案`**
  1. 使用 WAF（Web 应用防火墙，需要安装、或者购买相应的软件服务）
  2. 部署 DDoS 防护工具（需要安装、或者购买相应的软件服务）
  3. 进行流量监控和速率限制

### 不安全的反序列化

- **`描述`**
攻击者利用反序列化漏洞执行恶意代码。反序列化攻击的关键问题在于：应用程序未能正确验证反序列化数据的来源，导致恶意数据被反序列化并触发不安全的操作。

例如，在 Java 中，反序列化恶意对象时，可能会执行 Runtime.getRuntime().exec() 等危险命令，从而触发命令执行攻击。

- **`解决方案`**
  1. 禁用不可信来源的反序列化
  2. 使用安全的序列化格式，如 JSON