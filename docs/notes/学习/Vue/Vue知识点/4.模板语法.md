---
title: 模板语法
createTime: 2025/01/18 07:08:46
permalink: /learn/vue/U5yAadLd1PMOZzr3Dyq2/
author: JackSim
tags:
  - Vue3
  - 模板

description: description
---

## v-bind 的基本语法
```JavaScript
<img v-bind:src="imageSrc" /> 

<div v-bind="objectProps"></div>
```

objectProps 是一个对象，它的键值对会被动态绑定到 div 的属性上。

## 新增 v-bind 的动态参数 [key]
```JavaScript
<template>
  <div>
    <button v-bind="[buttonProps]">Click me</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      buttonProps: {
        [this.dynamicKey]: 'Click me!',
      },
      dynamicKey: 'title',
    };
  }
};
</script>
```
在这个例子中，v-bind="[buttonProps]" 会把 buttonProps 对象中的所有键值对动态绑定到按钮上，且键（title）是动态的。

## 支持多个 v-model 绑定

### 单一绑定示例
```JavaScript
<template>
  <input v-model="inputValue" />
</template>

<script>
export default {
  data() {
    return {
      inputValue: ''
    };
  }
};
</script>
```
在这个例子中，input 的值会与 inputValue 进行双向绑定。

### 多个绑定示例
```JavaScript
<template>
  <custom-input
    v-model:title="title"
    v-model:content="content"
  />
</template>

<script>
import { ref } from 'vue';
import CustomInput from './CustomInput.vue';

export default {
  components: {
    CustomInput
  },
  setup() {
    const title = ref('Hello');
    const content = ref('This is some content.');

    return { title, content };
  }
};
</script>
```
### 自定义组件中的实现

在自定义组件中，v-model 会根据绑定的 prop 和事件来进行双向绑定。通过为每个 prop 使用 v-model:propName，你可以在组件内部明确地处理这些不同的值。
```JavaScript
<template>
  <input
    :value="title"
    @input="$emit('update:title', $event)"
  />
  <textarea
    :value="content"
    @input="$emit('update:content', $event)"
  />
</template>

<script>
export default {
  props: {
    title: String,
    content: String
  }
};
</script>
```

### 总结

- 多个 v-model：Vue 3 允许同一个组件有多个 v-model 绑定。通过自定义的 modelValue 和事件名称，你可以在一个组件中处理多个双向绑定的数据。
- 语法：在父组件中，使用 v-model:propName 来绑定每个属性。
- 自定义事件：在子组件中，使用 update:propName 来触发更新事件，进行双向绑定。


### 条件渲染中的 v-if 和 v-show 的性能差异

1. v-if 和 v-show 的基本区别
    
    **v-if**: v-if 是惰性加载的，意味着当条件为 false 时，Vue 会完全不渲染该元素。只有在条件为 true 时，Vue 会创建和插入该元素，并且每次条件变化时，都会进行销毁和重建。

    **v-show**: v-show 则是始终渲染的，它会渲染元素并保留在 DOM 中，唯一的区别是它通过修改 display CSS 属性来控制元素的可见性。当条件为 false 时，它将 display: none 应用到该元素，但元素仍然存在于 DOM 中。

2. 性能差异
    
    **v-if 的性能开销**：

    v-if 在条件为 true 时才会创建 DOM 元素。当条件切换为 false 时，Vue 会销毁该元素及其所有子元素，然后在条件再次变为 true 时重新创建它们。这会带来更高的开销，尤其是在频繁切换条件时，因为每次切换都会导致 DOM 元素的销毁和重建。

    **v-show 的性能开销**：

    v-show 由于始终渲染元素并仅通过修改 display 来控制元素的可见性，所以在初次渲染时有较大的开销。特别是当页面上有很多需要控制显示/隐藏的元素时，这种开销可能会影响性能。然而，之后切换显示状态时，v-show 的性能会更好，因为它不需要销毁和重建 DOM 元素。
